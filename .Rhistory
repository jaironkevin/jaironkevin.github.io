xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "lm", linewidth = 1.2)
)
(spearman | pearson) +
plot_annotation(
title = "Spearman vs Pearson",
theme = theme(plot.title = element_text(size = 18, face = "bold"))
)
spearman<-ggscatterstats(
data = data,
x = x,
y = y,
type = "nonparametric",      # Para Spearman
title = "Spearman",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "loess", linewidth = 1.2)
)
pearson<-ggscatterstats(
data = data,
x = x,
y = y,
type = "parametric",      # Para Spearman
title = "Pearson",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "lm", linewidth = 1.2)
)
(spearman | pearson) +
plot_annotation(
title = "Spearman vs Pearson",
theme = theme(plot.title = element_text(size = 18, face = "bold"))
)
spearman + pearson
# Gráfico usando Spearman
spearman<-ggscatterstats(
data = data,
x = x,
y = y,
type = "nonparametric",      # Para Spearman
title = "Spearman",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
smooth.line.args = list(method = "loess", linewidth = 1.2)
)
pearson<-ggscatterstats(
data = data,
x = x,
y = y,
type = "parametric",      # Para Spearman
title = "Pearson",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
smooth.line.args = list(method = "lm", linewidth = 1.2)
)
spearman + pearson
x <- sort(runif(200, 1, 100)) + rnorm(200, 0, 2)
hist(x)
x <- scales::rescale(x, to = c(1, 100))
plot(x)
hist(x)
#| out-width: "11cm"
#| fig-align: "center"
library(ggstatsplot)
# Gráfico usando Spearman
spearman<-ggscatterstats(
data = data,
x = x,
y = y,
type = "nonparametric",      # Para Spearman
title = "Spearman",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "loess", linewidth = 1.2)
)
pearson<-ggscatterstats(
data = data,
x = x,
y = y,
type = "parametric",      # Para Spearman
title = "Pearson",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "lm", linewidth = 1.2)
)
library(patchwork)
spearman + pearson
#| out-width: "11cm"
#| fig-align: "center"
library(ggstatsplot)
# Gráfico usando Spearman
spearman <- ggscatterstats(
data = data,
x = x,
y = y,
type = "nonparametric",
title = "Spearman",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "loess", linewidth = 1.2),
ggplot.component = list(
theme(text = element_text(size = 8))
)
)
pearson <- ggscatterstats(
data = data,
x = x,
y = y,
type = "parametric",
title = "Pearson",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "lm", linewidth = 1.2),
ggplot.component = list(
theme(text = element_text(size = 8))
)
)
library(patchwork)
spearman + pearson
shapiro.test(data$x)
shapiro.test(data$y)
library(nortest)
install.packages("nortest")
library(nortest)
ad.test(data$x)
ad.test(data$y)
library(nortest)
# Test Anderson-Darling
ad_x  <- ad.test(data$x)
ad_y  <- ad.test(data$y)
ad_x
ad_y
#| code-fold: true
library(nortest)
# Test adecuado: Anderson-Darling
ad_x  <- ad.test(data$x)
ad_y  <- ad.test(data$y)
ad_x
ad_y
x <- 1:5
y <- log(x)        # relación monótona no lineal
cor(x, y, method = "spearman")  # = 1
cor(x, y, method = "pearson")   # < 1
data(faithful)
plot(faithful$waiting, faithful$eruptions)
cor(faithful$waiting, faithful$eruptions, method = "spearman")
data(trees)
cor(trees$Girth, trees$Volume, method = "spearman")
data(pressure)
cor(pressure$temperature, pressure$pressure, method = "spearman")
data(airquality)
cor(airquality$Temp, airquality$Ozone, method = "spearman", use="complete.obs")
plot(airquality$Temp)
cor(airquality$Temp, airquality$Ozone, method = "pearson", use="complete.obs")
x <- c(10, 10, 20, 30, 30, 30)
y <- c(5, 6, 6, 9, 9, 12)
# Rangos con empates
rg_x <- rank(x, ties.method = "average")
rg_y <- rank(y, ties.method = "average")
rg_x; rg_y
# Spearman manual con Pearson sobre rangos
rs_manual <- cor(rg_x, rg_y, method = "pearson")
rs_manual
# Spearman automático
rs_cor <- cor(x, y, method = "spearman")
rs_cor
set.seed(123)
n <- 120
data_ord <- data.frame(
satisfaccion = sample(1:5, n, replace = TRUE,
prob = c(0.10, 0.15, 0.25, 0.30, 0.20)),
frecuencia   = sample(1:5, n, replace = TRUE,
prob = c(0.05, 0.15, 0.30, 0.30, 0.20))
)
head(data_ord)
plot(jitter(data_ord$satisfaccion), jitter(data_ord$frecuencia),
xlab = "Satisfacción (ordinal)",
ylab = "Frecuencia de uso (ordinal)",
main = "Relación entre variables ordinales (con jitter)")
cor_spearman <- cor.test(data_ord$satisfaccion,
data_ord$frecuencia,
method = "spearman")
cor_spearman
# Generar satisfacción ordinal (1 a 5)
satisfaccion <- sample(1:5, n, replace = TRUE,
prob = c(0.10, 0.15, 0.25, 0.30, 0.20))
# Generar frecuencia relacionada positivamente con la satisfacción
frecuencia <- satisfaccion + rnorm(n, mean = 0, sd = 0.5)
# Ajustar al rango 1 a 5 y redondear
frecuencia <- pmin(pmax(round(frecuencia), 1), 5)
data_ord2 <- data.frame(satisfaccion, frecuencia)
# Gráfico
plot(jitter(data_ord2$satisfaccion),
jitter(data_ord2$frecuencia),
xlab = "Satisfacción (ordinal)",
ylab = "Frecuencia de uso (ordinal)",
main = "Relación entre variables ordinales (con jitter)")
# Spearman
cor_spearman2 <- cor.test(data_ord2$satisfaccion,
data_ord2$frecuencia,
method = "spearman")
cor_spearman2
data_ord2
ggscatterstats(
data = data_ord2,
x = satisfaccion,
y = frecuencia,
type = "parametric",      # Para Spearman
title = "Pearson",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "lm", linewidth = 1.2)
)
# Spearman
cor_spearman2 <- cor.test(data_ord2$satisfaccion,
data_ord2$frecuencia,
method = "pearson")
cor_spearman2
# Spearman
cor_spearman2 <- cor.test(data_ord2$satisfaccion,
data_ord2$frecuencia,
method = "spearman")
cor_spearman2
set.seed(123)
n <- 100
# Variable dicotómica real (0/1)
grupo <- rbinom(n, 1, 0.4)
# Variable continua
puntaje <- rnorm(n, mean = 50 + 10*grupo, sd = 8)
# Correlación biserial puntual
cor(grupo, puntaje)
set.seed(123)
# variable ordinal con 200 casos y solo 5 niveles
x <- sample(1:5, 200, replace = TRUE)
y <- sample(1:5, 200, replace = TRUE)
cor(x, y, method = "spearman")  # Spearman con empates
cor(x, y, method = "kendall")   # Kendall tau-b
X <- c(1,2,2,3,3,3,4,4,5,5)
Y <- c(2,2,3,3,4,4,4,5,5,5)
cor(X, Y, method = "spearman")
set.seed(123)
n <- 120
# Generar satisfacción ordinal (1 a 5)
satisfaccion <- sample(1:5, n, replace = TRUE,
prob = c(0.10, 0.15, 0.25, 0.30, 0.20))
# Generar frecuencia relacionada positivamente con la satisfacción
frecuencia <- satisfaccion + rnorm(n, mean = 0, sd = 0.5)
# Ajustar al rango 1 a 5 y redondear
frecuencia <- pmin(pmax(round(frecuencia), 1), 5)
data_ord2 <- data.frame(satisfaccion, frecuencia)
# Gráfico
plot(jitter(data_ord2$satisfaccion),
jitter(data_ord2$frecuencia),
xlab = "Satisfacción (ordinal)",
ylab = "Frecuencia de uso (ordinal)",
main = "Relación entre variables ordinales (con jitter)")
# Spearman
cor_spearman2 <- cor.test(data_ord2$satisfaccion,
data_ord2$frecuencia,
method = "spearman")
cor_spearman2
# Spearman
cor_spearman2 <- cor.test(data_ord2$satisfaccion,
data_ord2$frecuencia,
method = "pearson")
cor_spearman2
set.seed(123)
n <- 120
# Generar satisfacción ordinal (1 a 5)
satisfaccion <- sample(1:5, n, replace = TRUE,
prob = c(0.10, 0.15, 0.25, 0.30, 0.20))
# Generar frecuencia relacionada positivamente con la satisfacción
frecuencia <- satisfaccion + rnorm(n, mean = 0, sd = 0.5)
# Ajustar al rango 1 a 5 y redondear
frecuencia <- pmin(pmax(round(frecuencia), 1), 5)
data <- data.frame(satisfaccion, frecuencia)
head(data)
frecuencia
frequency(data)
frequency(data$satisfaccion)
data <- data.frame(satisfaccion, frecuencia)
head(data, 10)
table(data)
prop.table(data)
library(summarytools)
install.packages("summarytools")
library(summarytools)
summarytools::freq(data)
# Spearman
cor_spearman2 <- cor.test(data_ord2$satisfaccion,
data_ord2$frecuencia,
method = "spearman")
cor_spearman2
set.seed(123)
n <- 100  # número de alumnos
# Generar ítems de motivación (6 preguntas) y desempeño (6 preguntas) en escala 1-5
motivacion_items <- replicate(6, sample(1:5, n, replace = TRUE))
desempeno_items  <- replicate(6, sample(1:5, n, replace = TRUE))
# Convertir a data.frame y nombrar columnas
motivacion_df <- as.data.frame(motivacion_items)
names(motivacion_df) <- paste0("mot_", 1:6)
desempeno_df <- as.data.frame(desempeno_items)
names(desempeno_df) <- paste0("des_", 1:6)
# Crear variables compuestas sumando los ítems
motivacion_df$motivacion_total <- rowSums(motivacion_df)
desempeno_df$desempeno_total   <- rowSums(desempeno_df)
# Unir ambos constructos en un solo data.frame
data <- cbind(motivacion_df$motivacion_total, desempeno_df$desempeno_total)
colnames(data) <- c("motivacion", "desempeno")
head(data)
motivacion_items
desempeno_items
motivacion_df
desempeno_df
set.seed(123)
n <- 100  # número de alumnos
# Generar ítems de motivación (6 preguntas) y desempeño (6 preguntas) en escala 1-5
motivacion_items <- replicate(6, sample(1:5, n, replace = TRUE))
desempeno_items  <- replicate(6, sample(1:5, n, replace = TRUE))
# Convertir a data.frame y nombrar columnas
motivacion_df <- as.data.frame(motivacion_items)
names(motivacion_df) <- paste0("mot_", 1:6)
motivacion_df
head(data)
data
head(desempeno_df, 5)
n <- 100
motivacion_items <- replicate(6, sample(1:5, n, replace = TRUE))
desempeno_items  <- replicate(6, sample(1:5, n, replace = TRUE))
motivacion_df <- as.data.frame(motivacion_items)
names(motivacion_df) <- paste0("mot_", 1:6)
desempeno_df <- as.data.frame(desempeno_items)
names(desempeno_df) <- paste0("des_", 1:6)
motivacion_df$motivacion_total <- rowSums(motivacion_df)
desempeno_df$desempeno_total   <- rowSums(desempeno_df)
head(motivacion_df, 5)
head(desempeno_df, 5)
# Unir ambos constructos en un solo data.frame
data <- cbind(motivacion_df$motivacion_total, desempeno_df$desempeno_total)
colnames(data) <- c("motivacion", "desempeno")
head(data)
set.seed(123)
n <- 100
motivacion_items <- replicate(6, sample(1:5, n, replace = TRUE))
desempeno_items  <- replicate(6, sample(1:5, n, replace = TRUE))
motivacion_df <- as.data.frame(motivacion_items)
names(motivacion_df) <- paste0("mot_", 1:6)
desempeno_df <- as.data.frame(desempeno_items)
names(desempeno_df) <- paste0("des_", 1:6)
motivacion_df$motivacion_total <- rowSums(motivacion_df)
desempeno_df$desempeno_total   <- rowSums(desempeno_df)
head(motivacion_df, 5)
head(desempeno_df, 5)
# unimos solo las  2 variables compuestas
data <- cbind(motivacion_df$motivacion_total, desempeno_df$desempeno_total)
colnames(data) <- c("motivacion", "desempeno")
head(data, 5)
# Correlación de Spearman
cor_spearman <- cor.test(data$motivacion, data$desempeno, method = "spearman", exact = FALSE)
# Correlación de Spearman
cor_spearman <- cor.test(data[,1], data[,2], method = "spearman", exact = FALSE)
cor_spearman
# unimos solo las  2 variables compuestas
# Convertir a data.frame
data <- data.frame(
motivacion = motivacion_df$motivacion_total,
desempeno  = desempeno_df$desempeno_total
)
head(data, 5)
# Correlación de Spearman
cor_spearman <- cor.test(data$motivacion, data$desempeno, method = "spearman", exact = FALSE)
cor_spearman
set.seed(123)
n <- 100
# Generar ítems de motivación
motivacion_items <- replicate(6, sample(1:5, n, replace = TRUE))
motivacion_df <- as.data.frame(motivacion_items)
names(motivacion_df) <- paste0("mot_", 1:6)
# Variable compuesta motivación
motivacion_df$motivacion_total <- rowSums(motivacion_df)
# Generar desempeño relacionado positivamente con motivación
desempeno_df <- data.frame(
des_1 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_2 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_3 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_4 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_5 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_6 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5)
)
names(desempeno_df) <- paste0("des_", 1:6)
# Variable compuesta desempeño
desempeno_df$desempeno_total <- rowSums(desempeno_df)
# Crear data.frame final
data <- data.frame(
motivacion = motivacion_df$motivacion_total,
desempeno  = desempeno_df$desempeno_total
)
head(data, 5)
cor_spearman <- cor.test(data$motivacion, data$desempeno, method = "spearman", exact = FALSE)
cor_spearman
set.seed(123)
n <- 100
# Generar ítems de motivación
motivacion_items <- replicate(6, sample(1:5, n, replace = TRUE))
motivacion_df <- as.data.frame(motivacion_items)
names(motivacion_df) <- paste0("mot_", 1:6)
# Variable compuesta motivación
motivacion_df$motivacion_total <- rowSums(motivacion_df)
# Generar desempeño relacionado positivamente con motivación
desempeno_df <- data.frame(
des_1 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_2 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_3 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_4 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_5 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_6 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5)
)
names(desempeno_df) <- paste0("des_", 1:6)
# Variable compuesta desempeño
desempeno_df$desempeno_total <- rowSums(desempeno_df)
# Crear data.frame final
data <- data.frame(
motivacion = motivacion_df$motivacion_total,
desempeno  = desempeno_df$desempeno_total
)
head(data, 5)
set.seed(123)
n <- 100
# Generar ítems de motivación
motivacion_items <- replicate(6, sample(1:5, n, replace = TRUE))
motivacion_df <- as.data.frame(motivacion_items)
names(motivacion_df) <- paste0("mot_", 1:6)
# Variable compuesta motivación
motivacion_df$motivacion_total <- rowSums(motivacion_df)
# Generar desempeño relacionado positivamente con motivación
desempeno_df <- data.frame(
des_1 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_2 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_3 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_4 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_5 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5),
des_6 = pmin(pmax(round(motivacion_df$motivacion_total/6 + rnorm(n, 0, 0.5)), 1), 5)
)
names(desempeno_df) <- paste0("des_", 1:6)
# Variable compuesta desempeño
desempeno_df$desempeno_total <- rowSums(desempeno_df)
head(motivacion_df, 5)
head(desempeno_df, 5)
# Crear data.frame final
data <- data.frame(
motivacion = motivacion_df$motivacion_total,
desempeno  = desempeno_df$desempeno_total
)
head(data, 5)
# Correlación de Spearman
cor_spearman <- cor.test(data$motivacion, data$desempeno, method = "spearman", exact = FALSE)
cor_spearman
# Gráfico usando Spearman
spearman<-ggscatterstats(
data = data,
x = motivacion,
y = desempeno,
type = "nonparametric",      # Para Spearman
title = "Spearman",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "loess", linewidth = 1.2)
)
# Gráfico usando Spearman
ggscatterstats(
data = data,
x = motivacion,
y = desempeno,
type = "nonparametric",      # Para Spearman
title = "Spearman",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "loess", linewidth = 1.2)
)
library(ggstatsplot)
ggscatterstats(
data = data,
x = motivacion,
y = desempeno,
type = "nonparametric",      # Para Spearman
title = "Spearman",
xlab = "Variable X",
ylab = "Variable Y",
point.args = list(size = 3, alpha = 0.6),
smooth.line.args = list(method = "loess", linewidth = 1.2)
)
renv::status()
renv::snapshot()
quarto::quarto_check()
install.packages("quarto")
quarto::quarto_check()
quarto check
